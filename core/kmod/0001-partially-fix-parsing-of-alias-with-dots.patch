From cdaf4b2f3ef60365c6b8006a63410368a7b38f39 Mon Sep 17 00:00:00 2001
From: Dave Reisner <dreisner@archlinux.org>
Date: Tue, 31 Jan 2012 00:12:32 -0500
Subject: [PATCH 1/4] partially fix parsing of alias with dots

---
 libkmod/libkmod-util.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

diff --git a/libkmod/libkmod-util.c b/libkmod/libkmod-util.c
index 7c2611b..6a9f697 100644
--- a/libkmod/libkmod-util.c
+++ b/libkmod/libkmod-util.c
@@ -134,8 +134,7 @@ inline int alias_normalize(const char *alias, char buf[PATH_MAX], size_t *len)
 		case ']':
 			return -EINVAL;
 		case '[':
-			while (alias[s] != ']' &&
-					alias[s] != '.' && alias[s] != '\0')
+			while (alias[s] != ']' && alias[s] != '\0')
 				s++;
 
 			if (alias[s] != ']')
@@ -144,7 +143,6 @@ inline int alias_normalize(const char *alias, char buf[PATH_MAX], size_t *len)
 			s++;
 			break;
 		case '\0':
-		case '.':
 			goto finish;
 		default:
 			buf[s] = c;
-- 
1.7.9

